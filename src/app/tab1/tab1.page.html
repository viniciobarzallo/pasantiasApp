<ion-header [translucent]="true" >
  <ion-toolbar>
    <ion-title>
      Visita Técnica
      
    </ion-title>
  </ion-toolbar>
  
</ion-header>

<ion-content [fullscreen]="true">
  <!--routerLink llama al metodo 'datos' para mostar atributos -->
  <ion-card *ngFor="let char of clientes">
    <ion-card-header >
      <ion-card-title >{{char.registro.cliente.nombre}}</ion-card-title>
    </ion-card-header>
    <ion-card class="ion" [disabled]='char.realizado'> 
      <ion-card-content [routerLink]="['/visita',char.registro.id]" (click)="actualizar(char.registro.id)" >
        <ion-label>Tarea a realizar:</ion-label>
        <ion-item>
          <ion-label>{{char.observaciones}}</ion-label>
        </ion-item>
      <ion-label>Dirección:</ion-label>
      <ion-item>
        <ion-label>{{char.registro.cliente.direccionPrincipal}}</ion-label>
      </ion-item>

      <ion-item>
        <ion-label>{{char.registro.cliente.direccionReferencia}}</ion-label>
      </ion-item>
    
    </ion-card-content>
  </ion-card>
    <ion-card *ngIf="char.realizado" name="trabajo" color="danger" >
      <ion-item >
        <ion-label  *ngIf="char.realizado">Realizado</ion-label>

        <ion-toggle *ngIf="char.realizado" disabled="!char.realizado" slot="end" [(ngModel)]="char.realizado"   (ionChange)="cambiar($event, char)" ></ion-toggle>
        <ion-toggle *ngIf="!char.realizado" slot="end" [(ngModel)]="char.realizado"   (ionChange)="cambiar($event)" ></ion-toggle>
        
       </ion-item>  
    </ion-card>
    <ion-card *ngIf="!char.realizado" name="trabajo" color="silver" >
      <ion-item >
        

        <ion-toggle *ngIf="char.realizado" disabled="!char.realizado" slot="end" [(ngModel)]="char.realizado"   (ionChange)="cambiar($event, char)" ></ion-toggle>
        <ion-toggle *ngIf="!char.realizado" slot="end" [(ngModel)]="char.realizado"   (ionChange)="cambiar($event)" ></ion-toggle>
        
       </ion-item>  
    </ion-card>
    
  </ion-card>
</ion-content>